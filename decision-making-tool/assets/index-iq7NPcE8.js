const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./options-page-HdI3RYX9.js","./button-BqEWFG3Z.js","./button-BG_HU_Ju.css","./numbers-B-p1t3BL.js","./numbers-D0XWz5qW.css","./options-page-Bd4YA8Oh.css","./wheel-page-CWOIeAHS.js","./wheel-page-CuKaHyiy.css","./not-found-page-BdR2TJ3V.js","./not-found-page-CUhVO6jQ.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();class w{defaultRoute="/";routes;outlet;constructor(e,t){globalThis.addEventListener("hashchange",()=>{this.loadRoute()}),this.routes=e,this.outlet=t}navigate(e){globalThis.location.hash=e,this.loadRoute()}loadRoute(){const e=globalThis.location.hash.slice(1);if(!e){this.navigate(this.defaultRoute);return}const t=this.routes.find(s=>s.path===e)||this.routes.find(s=>s.path==="404");t&&(this.outlet.deleteChildren(),t.page(this).then(s=>{this.outlet.appendChildren(s)}).catch(s=>{console.error("Failed to load route page:",s)}))}}const O="modulepreload",A=function(n,e){return new URL(n,e).href},b={},m=function(e,t,s){let r=Promise.resolve();if(t&&t.length>0){const o=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),v=l?.nonce||l?.getAttribute("nonce");r=Promise.allSettled(t.map(a=>{if(a=A(a,s),a in b)return;b[a]=!0;const u=a.endsWith(".css"),L=u?'[rel="stylesheet"]':"";if(!!s)for(let h=o.length-1;h>=0;h--){const d=o[h];if(d.href===a&&(!u||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${L}`))return;const c=document.createElement("link");if(c.rel=u?"stylesheet":O,u||(c.as="script"),c.crossOrigin="",c.href=a,v&&c.setAttribute("nonce",v),document.head.appendChild(c),u)return new Promise((h,d)=>{c.addEventListener("load",h),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return r.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},P=[{path:"/",page:()=>m(()=>import("./options-page-HdI3RYX9.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url).then(n=>new n.OptionsPage)},{path:"/wheel",page:()=>m(()=>import("./wheel-page-CWOIeAHS.js"),__vite__mapDeps([6,3,4,1,2,7]),import.meta.url).then(n=>new n.WheelPage)},{path:"404",page:()=>m(()=>import("./not-found-page-BdR2TJ3V.js"),__vite__mapDeps([8,1,2,9]),import.meta.url).then(n=>new n.NotFoundPage)}];class R{listeners=new Set;emit(e){for(const t of this.listeners)t(e)}subscribe(e){return this.listeners.add(e),this.unsubscribe.bind(this,e)}unsubscribe(e){this.listeners.delete(e)}}class _ extends R{constructor(e){super(),this._value=e}get value(){return this._value}set(e){this._value=e,this.emit(this._value)}update(e){this._value=e(this._value),this.emit(this._value)}silentUpdate(e){this._value=e(this._value)}}const p={options:"ya-options",soundEnabled:"ya-soundEnabled",lastUrl:"ya-lastUrl"};class f{static save(e,t){localStorage.setItem(p[e],JSON.stringify(t))}static load(e){const t=localStorage.getItem(p[e]);return t?JSON.parse(t):null}static remove(e){localStorage.removeItem(p[e])}}const E="lastUrl",y="soundEnabled";class C{currentUrl=new _(f.load(E)||globalThis.location.hash||"#/");soundEnabled=new _(f.load(y)??!0);constructor(){this.currentUrl.subscribe(e=>f.save(E,e)),this.soundEnabled.subscribe(e=>f.save(y,e))}setUrl(e){this.currentUrl.set(e),globalThis.location.hash=e}toggleSound(){this.soundEnabled.set(!this.soundEnabled.value)}}const U=new C;class g{_element;_subscriptions=[];constructor(e){this._element=document.createElement(e.tag),e&&(this.addClasses(e.classNames),this.setText(e.text),this.setAttributes(e.attributes))}get node(){return this._element}addClasses(e){e&&e.length>0&&this._element.classList.add(...e)}removeClasses(e){e&&e.length>0&&this._element.classList.remove(...e)}toggleClass(e){e&&this._element.classList.toggle(e)}setText(e){e&&(this._element.textContent=e)}setAttributes(e){if(e)for(const[t,s]of Object.entries(e))s&&this._element.setAttribute(t,s)}getAttribute(e){return this._element.getAttribute(e)}removeAttribute(e){this._element.removeAttribute(e)}appendChildren(...e){for(const t of e)t instanceof g?this._element.append(t.node):t instanceof Node&&this._element.append(t)}deleteChildren(){for(;this._element.firstChild;)this._element.firstChild.remove()}deleteElement(){this.deleteChildren(),this.unsubscribeAll(),this._element.remove()}sub(...e){e.forEach(t=>{this._subscriptions.push(t)})}unsubscribeAll(){this._subscriptions.forEach(e=>{e()})}addListener(e,t,s=!1){this._element.addEventListener(e,t,s)}removeListener(e,t,s=!1){this._element.removeEventListener(e,t,s)}}const S=new g({tag:"div",classNames:["container"]});document.body.append(S.node);const T=new w(P,S);T.navigate(U.currentUrl.value);export{g as B,_ as O,f as S};
