const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./options-page-BJSCA4gP.js","./button-B7KtXnoJ.js","./button-BG_HU_Ju.css","./input-D__y6m5S.js","./input-D0XWz5qW.css","./options-page-BjrfO0p2.css","./wheel-page-C7uwWrGX.js","./wheel-page-B526Wvwl.css","./not-found-page-CumWXhKW.js","./not-found-page-CUhVO6jQ.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();function C(n){return n.filter(t=>t.title!==""&&t.weight&&t.weight>0).length>1}class L{listeners=new Set;emit(e){for(const t of this.listeners)t(e)}subscribe(e){return this.listeners.add(e),this.unsubscribe.bind(this,e)}unsubscribe(e){this.listeners.delete(e)}}class w extends L{constructor(e){super(),this._value=e}get value(){return this._value}set(e){this._value=e,this.emit(this._value)}update(e){this._value=e(this._value),this.emit(this._value)}silentUpdate(e){this._value=e(this._value)}}const d=1,D=5,x=5,m={options:"ya-options",soundDisabled:"ya-soundDisabled",optionsCleared:"ya-optionsCleared"};class p{static save(e,t){localStorage.setItem(m[e],JSON.stringify(t))}static load(e){const t=localStorage.getItem(m[e]);return t?JSON.parse(t):null}static remove(e){localStorage.removeItem(m[e])}}const b="options";class S extends w{idCounter=d;constructor(){super(p.load("options")??[]),this.countId(),this.subscribe(e=>p.save(b,e))}addOption(e){const t={id:this.countId(),...e};this.idCounter++,this.update(i=>[...i,t])}updateOption(e,t){this.silentUpdate(i=>i.map(s=>s.id===e?{...s,...t}:s)),p.save(b,this.value)}removeOption(e){this.update(t=>t.filter(i=>i.id!==e)),this.value.length===0&&(this.idCounter=d)}reset(){this.idCounter=d,this.set([])}countId(){const e=this.value.length>0?this.value.reduce((t,i)=>Math.max(t,i.id),d):d-1;return this.idCounter=e+1,this.idCounter}}const A=new S;class P{defaultRoute="/";routes;outlet;navigate;constructor(e,t){this.navigate=i=>{globalThis.location.hash=i},globalThis.addEventListener("hashchange",()=>{this.loadRoute()}),this.routes=e,this.outlet=t,globalThis.location.hash===""?this.navigate(this.defaultRoute):this.loadRoute()}loadRoute(){const e=globalThis.location.hash.slice(1);if(!e||e==="/wheel"&&!C(A.value)){this.navigate(this.defaultRoute);return}const i=this.routes.find(s=>s.path===e)||this.routes.find(s=>s.path==="404");i&&(this.outlet.deleteChildren(),i.page(this).then(s=>{this.outlet.appendChildren(s)}).catch(s=>{console.error("Failed to load route page:",s)}))}}const R="modulepreload",T=function(n,e){return new URL(n,e).href},E={},g=function(e,t,i){let s=Promise.resolve();if(t&&t.length>0){const o=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),_=l?.nonce||l?.getAttribute("nonce");s=Promise.allSettled(t.map(a=>{if(a=T(a,i),a in E)return;E[a]=!0;const c=a.endsWith(".css"),y=c?'[rel="stylesheet"]':"";if(!!i)for(let h=o.length-1;h>=0;h--){const f=o[h];if(f.href===a&&(!c||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${y}`))return;const u=document.createElement("link");if(u.rel=c?"stylesheet":R,c||(u.as="script"),u.crossOrigin="",u.href=a,_&&u.setAttribute("nonce",_),document.head.appendChild(u),c)return new Promise((h,f)=>{u.addEventListener("load",h),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}function r(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&r(l.reason);return e().catch(r)})},I=[{path:"/",page:()=>g(()=>import("./options-page-BJSCA4gP.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url).then(n=>new n.OptionsPage)},{path:"/wheel",page:()=>g(()=>import("./wheel-page-C7uwWrGX.js"),__vite__mapDeps([6,3,4,1,2,7]),import.meta.url).then(n=>new n.WheelPage)},{path:"404",page:()=>g(()=>import("./not-found-page-CumWXhKW.js"),__vite__mapDeps([8,1,2,9]),import.meta.url).then(n=>new n.NotFoundPage)}];class v{_element;_subscriptions=[];constructor(e){this._element=document.createElement(e.tag),e&&(this.addClasses(e.classNames),this.setText(e.text),this.setAttributes(e.attributes))}get node(){return this._element}addClasses(e){e&&e.length>0&&this._element.classList.add(...e)}removeClasses(e){e&&e.length>0&&this._element.classList.remove(...e)}toggleClass(e){e&&this._element.classList.toggle(e)}setText(e){e&&(this._element.textContent=e)}setAttributes(e){if(e)for(const[t,i]of Object.entries(e))i&&this._element.setAttribute(t,i)}getAttribute(e){return this._element.getAttribute(e)}removeAttribute(e){this._element.removeAttribute(e)}appendChildren(...e){for(const t of e)t instanceof v?this._element.append(t.node):t instanceof Node&&this._element.append(t)}deleteChildren(){for(;this._element.firstChild;)this._element.firstChild.remove()}deleteElement(){this.deleteChildren(),this.unsubscribeAll(),this._element.remove()}sub(...e){e.forEach(t=>{this._subscriptions.push(t)})}unsubscribeAll(){this._subscriptions.forEach(e=>{e()})}addListener(e,t,i=!1){this._element.addEventListener(e,t,i)}removeListener(e,t,i=!1){this._element.removeEventListener(e,t,i)}}const O=new v({tag:"div",classNames:["container"]});document.body.append(O.node);new P(I,O);export{v as B,D,x as M,w as O,p as S,C as g,A as o};
